"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const file_utility_1 = require("../file-utility/file-utility");
class PopulatePackage {
    constructor(_srcFolder, _destFolder) {
        this._srcFolder = _srcFolder;
        this._destFolder = _destFolder;
        this._replaceFiles = [
            'README.md',
            'CHANGELOG.md',
            'LICENSE.md',
        ];
        this._copyFields = [
            'name',
            'displayName',
            'description',
            'version',
            'unity',
            'repository',
            'license',
            'bugs',
            'homepage',
            'keywords',
            'author',
        ];
    }
    writeFiles() {
        this.overwriteFiles();
        const packageSrc = `${this._srcFolder}/package.json`;
        const destSrc = `${this._destFolder}/package.json`;
        file_utility_1.overwriteJsonFileFields(packageSrc, destSrc, this._copyFields);
    }
    overwriteFiles() {
        this._replaceFiles.forEach((f) => {
            const source = `${this._srcFolder}/${f}`;
            const target = `${this._destFolder}/${f}`;
            file_utility_1.overwriteFile(source, target);
        });
    }
}
exports.default = PopulatePackage;
//# sourceMappingURL=populate-package.js.map